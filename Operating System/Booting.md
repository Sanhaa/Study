```
노트북에 듀얼 부팅 설치하고 지우길 반복한 게 5번 정도 되는 것 같다. 
한창 듀얼 부팅으로 사용하다가 이번에 전공 수업을 들으면서 우분투 파티션 용량이 부족해서 윈도우를 밀어버렸다.
그리고 알바 때문에 다시 우분투를 지우고 급하게 윈도우를 깔다보니 노트북이 정신을 못차리더라 ㅠㅠ
삽질 좀 하고 나서야 우분투 파티션, grub 등등 깔끔하게 잘 삭제한 것 같다...

그러면서 계속 uEFI, EFI, BIOS 와 같은 용어를 접했었는데 항상 그냥 넘기다가 이번 기회에 정리하려고 함.
```

## BIOS 부팅 구조
`BIOS(Basic Input/Output System)`는 메인 보드에 내장된 **펌웨어**의 한 종류로서 (컴퓨터 소프트웨어의 최저층에 존재) 부팅 전 하드웨어를 한 번 초기화하여 사용을 준비하고 소프트웨어와 하드웨어 간의 정보 전달을 돕는다.

### 디스크: MBR과 GPT
`MBR(Master Boot Record)`는 디스크에 대한 정보(구성)을 첫 부분에 기록해두고 관리하는 체계이다.
- 현재는 디스크의 용량이 커지고 용도가 다양해졌기 때문에 MBR만으로는 효과적인 관리가 어려워져서 `GPT`라는 새로운 양식이 사용되고 있다.
- **BIOS**는 기본적으로 디스크 기본 형식으로 `MBR` 사용
- 구조 (대표적인 구성)
  1. 코드 영역  
      - BIOS가 하드웨어를 점검한 후 디스크의 첫 번째 섹터를 불러오게 되는 데 이때 코드 영역의 `부트 코드`가 실행된다. 
      - 파티션 테이블을 읽어 부팅 가능한 파티션을 찾아 준다.
  2. 파티션 테이블  
      - 16 Byte 씩 4개의 엔트리로 구성
      - 하나의 엔트리는 주 파티션 하나의 정보를 담고 있다.

### 파티션
- 디스크 공간을 논리적으로 별도의 데이터 영역으로 분할한 공간
- OS는 각 파티션을 별도의 디스크처럼 취급 (각기 다른 OS를 사용하는 등, 따라서 멀티 부팅의 기본은 파티션 분리)
- 파티션의 정보는 `MBR`, `GPT`에 저장됨
- 활성 파티션: 부팅 가능한 파티션, 디스크 당 하나만 존재
- `부팅 관련 영역(부트 섹터 존재)`과 `파일 시스템 영역`로 구분
- 윈도우에서 포맷한 파티션은 윈도우 부트 매니저를 불러오도록 자동으로 부트 섹터 구성

### 볼륨
- 파일 시스템으로 포맷된 디스크 상의 저장 영역
- 기본 디스크에서 저장 영역 = 파티션이므로 기본 디스크에서는 하나의 파티션 = 하나의 볼륨
- 파티션보다 더 유동적이고 논리적인 개념

### 파일 시스템
- 저장 장치에 파일을 어떻게 쓰고, 관리하고, 찾고 읽을 것인지에 대한 규칙(체계)
- ex. Windows: FAT16, FAT32, NTFS
- ex. Linux: nfs, swap, Ext3, Ext4

#### 디스크 vs. 파티션 .vs 볼륨
- `디스크`는 `파티션`으로 분할 될 수 있음
- 특정 **파일시스템으로 포맷**하여 저장 공간의 의미를 가지면 `볼륨`
- ex. USB 장치를 설정할 때  `FAT32, NTFS으로 포맷` 등의 옵션을 볼 수 있음

  ![image](https://user-images.githubusercontent.com/26539591/149094765-9ce95171-2b05-4056-b98a-01ea1fbb7cc9.png)

- 파티션은 4개이지만, 그 중 파일 시스템으로 포맷된 두 개의 파티션만 (파티션 1, 3만) 볼륨으로 인식됨

### 윈도우 BIOS 부팅 순서
BIOS > 부팅 디스크의 MBR > 활성 파티션의 부트 섹터 > 부트 매니저

----
<br>

### UEFI 부팅 구조
- BIOS 방식을 대체할 펌웨어 인터페이스
- MBR 및 부트섹터를 거치지 않고 직접 딧크 내부의 .efi 파일을 읽어 부팅할 수 있다.


### 디스크: GPT
- GPT 디스크로 부팅하려면 UEFI 필요 (반대로 UEFI 부팅에 꼭 GPT 디스크가 필요한 것은 아님)
- 컴퓨터가 EFI 펌웨어를 사용하면 MBR, GPT 디스크에 상관없이 UEFI 부팅 가능
- 윈도우에서는 기본적으로 UEFI 설치 시 GPT 디스크를 사용하도록 설정 - MBR 디스크를 UEFI 부팅에 사용하기 어려움

### UEFI 설치와 EFI 파티션
- 윈도우10 UEFI 부팅 -> 파티션 4개 생성: 복구 / EFI 시스템 파티션 / MS 예약 파티션 / C 드라이브

### UEFI 부팅 순서
1. **ESP 검색**: UEFI 펌웨어 로드 EFI Syste Partition (ESP) 검색
2. **EFI 파일 실행**: efi 실행 파일 = 부트 매니저
    - \EFI\Microsoft
    - \EFI\ubuntu

<br>
----- 
### 참고자료
- [우분투 삭제 방법](https://jimnong.tistory.com/677#google_vignette)
- [BIOS 부팅 구조](http://usinan.blogspot.com/2018/01/bios-boot.html)
- [EFI 용어 설명](http://www.ktword.co.kr/test/view/view.php?m_temp1=4858)
- [디스크 vs. 파티션 vs. 볼륨](https://pearlluck.tistory.com/179)
